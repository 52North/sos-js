<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>SOS PegelOnline</title>
    <link rel="stylesheet" href="/js/sos/jquery/theme/default/jquery-ui.min.css" type="text/css"/>
    <link rel="stylesheet" href="/js/sos/SOS/SOS.Styles.css" type="text/css"/>
    <script type="text/javascript" src="/js/sos/proj4js/lib/proj4js-combined.js"></script>
    <script type="text/javascript" src="/js/sos/OpenLayers/OpenLayers.js"></script>
    <script type="text/javascript" src="/js/sos/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="/js/sos/jquery/jquery-ui.min.js"></script>
    <!--[if lte IE 8]><script type="text/javascript" src="/js/sos/flot/excanvas.min.js"></script><![endif]-->
    <script type="text/javascript" src="/js/sos/flot/jquery.flot.min.js"></script>
    <script type="text/javascript" src="/js/sos/flot/jquery.flot.selection.min.js"></script>
    <script type="text/javascript" src="/js/sos/flot/jquery.flot.axislabels.min.js"></script>
    <script type="text/javascript" src="/js/sos/SOS/SOS.js"></script>
    <script type="text/javascript" src="/js/sos/SOS/SOS.Ui.js"></script>

    <script type="text/javascript">
      /**
       * Initializes the page
       */
      var app;

      function init() {
        var options = {
          url: 'http://sensorweb.demo.52north.org/PegelOnlineSOSv2.1/sos'
        };
        app = new SOS.App(options);
        app.getCapabilities(display);
      }

      function display() {
        app.setupPlumbing();

        var components = app.config.app.components;

        components.map.setMapOptions({
          defaultProjection: new OpenLayers.Projection("EPSG:31466"),
          centre: new OpenLayers.LonLat(52, 13),
          params: {
            displayProjection: new OpenLayers.Projection("EPSG:31466"),
            projection: "EPSG:31466",
            maxExtent: new OpenLayers.Bounds(-1500000,4000000,5600000,11000000)
          }
        });
        components.map.setBaseLayerOptions({
          label: "Metaspatial WMS",
          url: "http://metaspatial.net/cgi-bin/germany-wms?",
          params: {
            layers: "germany"
          }
        });
        app.displayApp();
      }
    </script>
  </head>
  <body onload="init()">
    <!-- <div id="sosAppContainer" class="sos-app-container"></div> -->
  </body>
</html>

